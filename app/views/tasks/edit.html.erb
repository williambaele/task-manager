<div class="my-8">
<div>
  <span class="text-white text-3xl">Edit your task</span>
</div>
  <%= form_for @task do |f| %>
    <div class="grid grid-cols-1 gap-6 mt-4 sm:grid-cols-1">
      <div>
        <%= f.label :title ,class:"text-white"%>
        <%= f.text_field :title, class:"w-full px-2 py-2 text-gray-700 bg-gray-200 rounded my-1" %>
      </div>
       <div>
        <%= f.label :content ,class:"text-white"%>
        <%= f.text_area :content, class:"w-full px-2 py-2 text-gray-700 bg-gray-200 rounded my-1", rows: "10" %>
      </div>
      <div id="todo-fields">
        <%= f.label :todo ,class:"text-white"%>
        <% @task.todo.each_with_index do |todo_item, index| %>
          <div>
            <%= f.text_field "todo[#{index}]", value: todo_item, class:"w-full px-2 py-2 text-gray-700 bg-gray-200 rounded my-1" %>
          </div>
        <% end %>
      </div>
        <button class="justify-center p-2 text-base font-semibold text-white transition-all duration-200 bg-[#FF4C29] border border-transparent rounded-md  hover:bg-[#ff5e3e]" type="button" onclick="addTodoField()">Add new to-do</button>
      <div>
        <%= f.label :difficulty, class:"text-white"%>
        <%= f.range_field :difficulty, in: 1..10 , class:"w-full px-2 py-2 bg-red-200 rounded my-1"%>
      </div>
      <div>
        <%= f.label :start_date ,class:"text-white"%>
        <%= f.date_field :start_date, class:"w-full px-2 py-2 text-gray-700 bg-gray-200 rounded my-1"%>
      </div>
       <div>
        <%= f.label :end_date ,class:"text-white"%>
        <%= f.date_field :end_date, class:"w-full px-2 py-2 text-gray-700 bg-gray-200 rounded my-1"%>
      </div>
    <div class="flex justify-center mt-6">
      <%= f.submit "Submit", class:"px-4 py-2 text-gray-200 bg-[#2C394B] rounded-md hover:bg-[#414d5d] focus:outline-none btn", role:"button" %>
    </div>
  <% end %>
</div>
<script>
function addTodoField() {
  // Create a new text field element
  var newField = document.createElement("input");
  newField.type = "text";
  newField.name = "model[todo][]";
  newField.className = "w-full px-2 py-2 text-gray-700 bg-gray-200 rounded my-1";


  // Add the new field to the form
  var todoFields = document.getElementById("todo-fields");
  todoFields.appendChild(newField);
}
</script>
